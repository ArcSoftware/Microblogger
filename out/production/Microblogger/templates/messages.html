<!DOCTYPE html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script type = "text/javascript">
        function searchMessages() {
            let name = getFilterText();
            $.getJSON('/api/messages/name', name, function(data) {
                console.log(data);
            });
        }

        function getFilterText() {
            return $('#FilterName').text();
        }
    </script>
    <link rel="stylesheet" href="/page.css">
    <title>Your Messages...</title>
    <meta charset="UTF-8">
</head>
<body>
<form action="/create-message" method="post">
    <input type="text" placeholder="Write a message here." name="message"/>
    <button type= "Post">Send message</button>
</form>

<input id="FilterName" type="text" placeholder="View only messages by: " name="searchName"/>
<button type= "Post" onclick="searchMessages()">Filter!</button>

<form action="/api/messages/:name" method="post">

</form>
<h1>
    <i style="font-size:48px;color:maroon;">Chat Room Messages:</i>



</h1>
<h2>
    <ol>
    {{#messages}}
        <li>{{userName}}: {{text}}</li>
    {{/messages}}
    </ol>

</h2>
<h3>
    <ol>
    {{#matches}}
    <li>{{userName}}: {{text}}</li>
    {{/matches}}
</ol>
</h3>

</body>
</html>

