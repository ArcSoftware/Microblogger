<!DOCTYPE html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script type = "text/javascript">
        function searchMessages() {
            let name = getFilterText();
            $.getJSON('/api/messages/name', name, function(data) {
                console.log(data);
            });
        }

        function getFilterText() {
            return $('#FilterName').text();
        }
    </script>
    <link rel="stylesheet" href="/page.css">
    <title>Your Messages...</title>
    <meta charset="UTF-8">
</head>
<body>
<form action="/create-message" method="post">
    <input type="text" placeholder="Write a message here." name="message"/>
    <button type= "Post">Send message</button>
</form>

<input id="FilterName" type="text" placeholder="View only messages by: " name="searchName"/>
<button onclick="searchMessages()">Filter!</button>

<form action="/api/messages/:name" method="get">

</form>

<h1>
    <i style="font-size:48px;color:maroon;">Barrens* General Chat v2.0.1:</i>
    Yes, you are here...



</h1>
<h2>
    <ol>
    {{#messages}}
        <li>{{userName}}: {{text}}</li>
    {{/messages}}
    </ol>

</h2>
<h3>
    <ol>
    {{#matches}}
    <li>{{userName}}: {{text}}</li>
    {{/matches}}
</ol>
</h3>

</body>
<div id="footer">

    <b>Patchnotes version 2.0.1:</b> <br>
        -<font color = #F59B00>[Thunderfury, Blessed Blade of the Windseeker]</font> links have been blocked. <br>
        -Certain four letter "pre-link" reference spam remarks banned. <br> <br>

    <b>*Barrens chat</b>:<br>
    noun
    <ol>
    <li> A condition which occurs when you have a large, sprawling area that is the primary means of leveling
        from 10-20. </li>
    <li> Resembles a stupidity centrifuge, distilling the unexpurgated banal thoughts of a thousand morons <br>
         into a hardened, impenetrable lump of smacktardery, spilling endlessly across the <br>
        bottom of your screen. -wowwiki.com </li>
    </ol>
</div>
</html>

